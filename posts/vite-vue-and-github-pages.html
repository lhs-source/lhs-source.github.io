<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/svg+xml" href="/vite.svg">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vite vue + Github Pages í˜ì´ì§€ êµ¬ì¶•</title>
    <script type="module" crossorigin="" src="/assets/app-f2535a55.js"></script>
    <link rel="stylesheet" href="/assets/index-e7b8570c.css">
  <link rel="modulepreload" crossorigin="" href="/assets/posts-c06c2dea.js"><link rel="stylesheet" href="/assets/posts-01730728.css"><link rel="modulepreload" crossorigin="" href="/assets/vite-vue-and-github-pages-fcd8437e.js"><meta name="description" content="ê¸°ì¡´ vue-cli ë¥¼ ì‚¬ìš©í•œ vue í”„ë¡œì íŠ¸ë¡œ github pages ë¥¼ êµ¬ì¶•í–ˆëŠ”ë°, ëŒ€ì„¸ì— ë”°ë¼ vite ë¡œ ë³€ê²½í•˜ê¸°ë¡œ í–ˆë‹¤."><meta property="og:title" content="Vite vue + Github Pages í˜ì´ì§€ êµ¬ì¶•"></head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="post-index-wrapper" data-v-2b6ea3cb=""><header class="header-wrapper" data-v-2b6ea3cb="" data-v-758091e7=""><div class="header-row" data-v-758091e7=""><div class="to-home" data-v-758091e7=""><div class="profile-frame" data-v-758091e7=""><img class="crow-profile" src="/assets/Dream_Background-969973a4.jpg" data-v-758091e7=""></div><span data-v-758091e7="">ë‚´ê°€ ë§Œë“  ë¸”ë¡œê·¸~</span></div><div class="menu-list" data-v-758091e7=""><!--[--><div class="menu" data-v-758091e7="">ë”ë¯¸ ë©”ë‰´1</div><div class="menu" data-v-758091e7="">ë”ë¯¸ ë©”ë‰´2</div><!--]--></div></div><div class="header-row slot" data-v-758091e7=""><!--[--><div class="header-sub-post" data-v-2b6ea3cb="" data-v-51f5ba86=""><div class="menu" data-v-51f5ba86="">ğŸ“»í¬ìŠ¤íŒ… ëª©ë¡</div><div class="menu" data-v-51f5ba86="">ğŸ“šëª©ì°¨</div></div><!--]--></div></header><aside class="" data-v-2b6ea3cb="" data-v-1d581cda=""><div class="post-list" data-v-1d581cda=""><!--[--><!--]--></div></aside><main data-v-2b6ea3cb=""><div class="markdown-body" data-v-2b6ea3cb=""><h1 id="vite-vue-%2B-github-pages-%ED%8E%98%EC%9D%B4%EC%A7%80-%EA%B5%AC%EC%B6%95" tabindex="-1">Vite vue + Github Pages í˜ì´ì§€ êµ¬ì¶•</h1><p>ê¸°ì¡´ vue-cli ë¥¼ ì‚¬ìš©í•œ vue í”„ë¡œì íŠ¸ë¡œ github pages ë¥¼ êµ¬ì¶•í–ˆëŠ”ë°, ëŒ€ì„¸ì— ë”°ë¼ vite ë¡œ ë³€ê²½í•˜ê¸°ë¡œ í–ˆë‹¤. ë§ì´ ë³€ê²½ì´ì§€ ìƒˆë¡œ ë§Œë“¤ì—ˆë‹¤.</p><p>ê¸°ì¡´ vue-cli ë¡œ í–ˆë˜ ê²ƒì—ì„œ vite ë¡œ ë³€ê²½í•˜ë©° í•„ìš”í•œ ë¶€ë¶„ë§Œ ì‘ì„±í•˜ì˜€ê³ , github actions ë“±ì˜ ê¸°ëŠ¥ì€ <a href="https://lhs-source.github.io/posts/making-blog-githubio-vue3-1#github-actions-%EB%A1%9C-github-pages-%EB%B0%B0%ED%8F%AC">Github.io + Vue3 ë¡œ ë¸”ë¡œê·¸ ë§Œë“¤ê¸°</a> ë¥¼ ì°¸ê³ í•˜ë©´ ëœë‹¤.</p><h1 id="vite-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1" tabindex="-1">vite í”„ë¡œì íŠ¸ ìƒì„±</h1><pre><code class="">npm create vite@latest
</code></pre><p>ìš°ì„  ë¹ˆ vite í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤. ìš°ë¦¬ëŠ” vue3 ì™€ typescript ë¥¼ í™œìš©í•´ì„œ ê°œë°œí•  ê²ƒì´ë‹¤.</p><h1 id="vite-ssg" tabindex="-1">vite-ssg</h1><blockquote><p>Vite SSG<br><a href="https://www.npmjs.com/package/vite-ssg">https://www.npmjs.com/package/vite-ssg</a></p></blockquote><p>vite ë¡œ static site generating í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤. ìš°ë¦¬ê°€ ë§Œë“œëŠ” í¬ìŠ¤íŠ¸ ë§ˆë‹¤ ì •ì  ì‚¬ì´íŠ¸ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤</p><pre><code class="">npm i -D vite-ssg vue-router @vueuse/head
</code></pre><p>ìœ„ ì»¤ë§¨ë“œë¡œ <code class="">vue-router</code>&nbsp; ì™€ <code class="">@vueuse/head</code>&nbsp; ë„ í•¨ê»˜ ì„¤ì¹˜í•´ì£¼ë¼ê³  ë‚˜ì™€ ìˆëŠ”ë°, ë‚˜ëŠ” <code class="">@unhead/vue</code> ë¥¼ ì‚¬ìš©í–ˆë‹¤.</p><pre class="language-json"><code class="language-json"><span class="token comment">// package.json</span>
<span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
â€ƒ <span class="token property">"build:ssg"</span><span class="token operator">:</span> <span class="token string">"vite-ssg build"</span>
<span class="token punctuation">}</span>
</code></pre><p>ë¹Œë“œ ì»¤ë§¨ë“œë¥¼ ëŒ€ì²´ í˜¹ì€ ì¶”ê°€í•´ì¤€ë‹¤.</p><pre class="language-ts"><code class="language-ts"><span class="token comment">// main.ts</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> createApp <span class="token operator">=</span> <span class="token function">ViteSSG</span><span class="token punctuation">(</span>
    <span class="token comment">// ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸</span>
    App<span class="token punctuation">,</span>
â€ƒâ€ƒâ€ƒâ€ƒ<span class="token punctuation">{</span> routes <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token punctuation">{</span> app<span class="token punctuation">,</span> router<span class="token punctuation">,</span> routes<span class="token punctuation">,</span> isClient<span class="token punctuation">,</span> initialState <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// í”ŒëŸ¬ê·¸ì¸ ì„¸íŒ…</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre><p><code class="">createApp</code>&nbsp; ì„ <code class="">ViteSSG</code>&nbsp; ë¡œ ë³€ê²½í•œë‹¤. ì´ëŸ¬ë©´ ë¹Œë“œí–ˆì„ ë•Œ, SPA ì•±ì´ ì•„ë‹ˆë¼, MPAë¡œ ë¹Œë“œê°€ ëœë‹¤. ê° ë¼ìš°íŠ¸ë§ˆë‹¤ html í˜ì´ì§€ê°€ ë”°ë¡œ ìƒì„±ëœë‹¤.</p><h1 id="vite-plugin-pages-sitemap" tabindex="-1">vite-plugin-pages-sitemap</h1><blockquote><p>vite-plugin-pages-sitemap<br><a href="https://github.com/jbaubree/vite-plugin-pages-sitemap">https://github.com/jbaubree/vite-plugin-pages-sitemap</a></p></blockquote><p>ì‚¬ì´íŠ¸ë§µ ìë™ ìƒì„±ê¸°ì´ë‹¤.&nbsp;<code class="">vite-ssg</code>&nbsp; ì™€&nbsp;<code class="">vite-plugin-pages</code>&nbsp; ë¥¼ ê°™ì´ ì§€ì›í•œë‹¤.</p><pre><code class="">npm install -D vite-plugin-pages-sitemap
</code></pre><pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> Pages <span class="token keyword">from</span> <span class="token string">'vite-plugin-pages'</span>
<span class="token keyword">import</span> generateSitemap <span class="token keyword">from</span> <span class="token string">'vite-plugin-pages-sitemap'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// ...</span>
    <span class="token function">Pages</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function-variable function">onRoutesGenerated</span><span class="token operator">:</span> routes <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token function">generateSitemap</span><span class="token punctuation">(</span><span class="token punctuation">{</span> routes <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

</code></pre><p><img src="/assets/git_blog-43bea08c.png" alt=""></p><p><code class="">npm run build</code>&nbsp; ë¥¼ í•˜ë©´ ë°”ë¡œ ì‚¬ì´íŠ¸ë§µê³¼ ë¡œë³´ì¸  íŒŒì¼ì´ ë§Œë“¤ì–´ì§„ë‹¤. ê¸°ë³¸ ì‚¬ìš©ë²•ëŒ€ë¡œ ì‚¬ì´íŠ¸ë§µ íŒŒì¼ì„ ë§Œë“¤ë©´ ì£¼ì†Œê°€ <code class="">localhost</code>&nbsp; ë¡œ ë˜ëŠ”ë°, <code class="">hostname</code>&nbsp; ì„ ë³€ê²½í•´ì„œ ë‚´ ì‚¬ì´íŠ¸ ì£¼ì†Œë¥¼ ì„¤ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.</p><h1 id="vite-plugin-pages" tabindex="-1">vite-plugin-pages</h1><blockquote><p>vite-plugin-pages<br><a href="https://www.npmjs.com/package/vite-plugin-pages">https://www.npmjs.com/package/vite-plugin-pages</a></p></blockquote><p>íŒŒì¼ ì‹œìŠ¤í…œ ê¸°ë°˜ì˜ ë¼ìš°íŠ¸ë¥¼ ìƒì„±í•œë‹¤.</p><pre><code class="">npm install -D vite-plugin-pages

</code></pre><p>ì´ë…€ì„ë„ vue-router ê°€ í•„ìš”í•œë°, ìœ„ì—ì„œ ì„¤ì¹˜í–ˆê¸° ë•Œë¬¸ì— ìƒëµí•œë‹¤.</p><pre class="language-ts"><code class="language-ts"><span class="token comment">// vite.config.ts</span>
<span class="token keyword">import</span> Pages <span class="token keyword">from</span> <span class="token string">'vite-plugin-pages'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">Pages</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'vue'</span><span class="token punctuation">,</span> <span class="token string">'md'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      pagesDir<span class="token operator">:</span> <span class="token string">'src/pages'</span><span class="token punctuation">,</span>
      <span class="token comment">/**
       * ìƒì„±ëœ ë¼ìš°íŠ¸ì— ì¶”ê°€ ë¡œì§ì„ ì‘ì„±í•œë‹¤.
       * @param route ìƒì„±ëœ ë¼ìš°íŠ¸
       * @returns 
       */</span>
      <span class="token function">extendRoute</span><span class="token punctuation">(</span>route<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'route'</span><span class="token punctuation">,</span> route<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> route<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><p><code class="">Pages</code>&nbsp; í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì •íŒŒì¼ì— ì¶”ê°€í•˜ì. md íŒŒì¼ì´ ìˆëŠ” ê²½ë¡œì™€, í™•ì¥ìë¥¼ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤.</p><h2 id="%ED%8C%8C%EC%9D%BC-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0" tabindex="-1">íŒŒì¼ ì¶”ê°€í•˜ê¸°</h2><p><code class="">Pages</code>&nbsp; í”ŒëŸ¬ê·¸ì¸ì— ë“±ë¡í•´ë‘” ê²½ë¡œì— <code class="">.vue</code>&nbsp; í˜¹ì€ <code class="">.md</code>&nbsp; íŒŒì¼ì„ ë§Œë“¤ë©´ ìë™ìœ¼ë¡œ ë¼ìš°íŠ¸ë¡œ ì¸ì‹í•œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ë§Œë“¤ì–´ì•¼ í•  íŒŒì¼ì´ ë‘ê°€ì§€ ìˆë‹¤.</p><ul><li><strong>[â€¦all].vue â†’</strong> ì ‘ì†í•œ í˜ì´ì§€ì— í•´ë‹¹í•˜ëŠ” ë¼ìš°íŠ¸ê°€ ì—†ì„ ë•Œ ë„ì›Œì¤„ 404 í˜ì´ì§€</li><li><strong>index.vue</strong> â†’ ë£¨íŠ¸ í˜ì´ì§€</li></ul><p>ë‚˜ë¨¸ì§€ëŠ” íŒŒì¼ì„ ë§Œë“œëŠ”ëŒ€ë¡œ ë¼ìš°íŠ¸ì— ë“±ë¡ëœë‹¤.</p><h2 id="nested-routes" tabindex="-1">nested routes</h2><blockquote><p>Nested Routes<br><a href="https://github.com/hannoeru/vite-plugin-pages#nested-routes">https://github.com/hannoeru/vite-plugin-pages#nested-routes</a></p></blockquote><p>ë©”ì¸ í˜ì´ì§€ì™€ í¬ìŠ¤íŠ¸ í˜ì´ì§€ì˜ ë””ìì¸ì„ ì™„ì „íˆ ë¶„ë¦¬í•˜ê³  nested routes ë¡œ ê´€ë¦¬í•  ê²ƒì´ë‹¤.</p><p><img src="/assets/git_blog 2-a34b9dbf.png" alt=""></p><pre class="language-ts"><code class="language-ts">route <span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">'/posts'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span> <span class="token string">'/src/pages/posts.vue'</span><span class="token punctuation">,</span>
  customBlock<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
  children<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'posts-post2'</span><span class="token punctuation">,</span>
      path<span class="token operator">:</span> <span class="token string">'post2'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> <span class="token string">'/src/pages/posts/post2.md'</span><span class="token punctuation">,</span>
      customBlock<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
      props<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
â€ƒâ€ƒâ€ƒâ€ƒ<span class="token comment">// ....</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>

</code></pre><p>/pages í´ë” ì•„ë ˆ,&nbsp;<code class="">posts</code>&nbsp; ë¡œ í´ë”ì™€ vue íŒŒì¼ì„ í•˜ë‚˜ì”© ë§Œë“ ë‹¤. ê·¸ëŸ¼ ìë™ìœ¼ë¡œ nested routes ë¡œ ì¸ì‹í•œë‹¤.</p><pre class="language-vue"><code class="language-vue">&lt;script setup&gt;&lt;/script&gt;
&lt;template&gt;
  &lt;div class="post-index-wrapper"&gt;
    &lt;router-view&gt;&lt;/router-view&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;style&gt;
&lt;/style&gt;

</code></pre><p><code class="">posts.vue</code>&nbsp; íŒŒì¼ì—ëŠ” <code class="">router-view</code>&nbsp; ë¥¼ ì‚¬ìš©í•˜ë©´ ë!</p><h1 id="vite-plugin-vue-layouts" tabindex="-1">vite-plugin-vue-layouts</h1><blockquote><p>vite-plugin-vue-layouts<br><a href="https://www.npmjs.com/package/vite-plugin-vue-layouts">https://www.npmjs.com/package/vite-plugin-vue-layouts</a></p></blockquote><p>vite-plugin-pages ì™€ ì„¸íŠ¸ì´ë‹¤. main ì—ì„œ createApp ì„ í•  ë•Œ, ë¼ìš°íŠ¸ë¥¼ ì¸ì‹ì‹œí‚¤ê¸° ìœ„í•¨ì´ë‹¤. ë¬´ì¡°ê±´ í•„ìš”í•œì§€ëŠ” ì˜ ëª¨ë¥´ê² ë‹¤. ë” ì•Œì•„ë´ì•¼ í•¨.</p><pre><code class="">npm install -D vite-plugin-vue-layouts
</code></pre><pre class="language-ts"><code class="language-ts"><span class="token comment">// vite.config.ts</span>
<span class="token keyword">import</span> Layouts <span class="token keyword">from</span> <span class="token string">'vite-plugin-vue-layouts'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">Layouts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><p>vite ì„¤ì •ì— <code class="">Layouts</code>&nbsp; ì¶”ê°€í•˜ê¸°</p><pre class="language-json"><code class="language-json"><span class="token comment">// tsconfig.json</span>
<span class="token property">"compileOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"types"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">"vite/client"</span><span class="token punctuation">,</span> 
      <span class="token string">"vite-plugin-pages/client"</span><span class="token punctuation">,</span> 
      <span class="token string">"vite-plugin-vue-layouts/client"</span><span class="token punctuation">,</span> 
      <span class="token string">"node"</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

</code></pre><p><code class="">virtual</code>&nbsp; import ë¥¼ ì¸ì‹í•˜ê¸° ìœ„í•´ì„œ types í•­ëª©ì„ ì¶”ê°€í•œë‹¤.</p><pre class="language-ts"><code class="language-ts"><span class="token comment">// main.ts</span>
<span class="token comment">// virtual:generated-layouts</span>
<span class="token comment">//   tsconfig.json-compilerOptions-types</span>
<span class="token comment">//   "vite-plugin-vue-layouts/client"</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> setupLayouts <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'virtual:generated-layouts'</span>
<span class="token comment">// virtual:generated-pages</span>
<span class="token comment">//   tsconfig.json-compilerOptions-types</span>
<span class="token comment">//   "vite-plugin-pages/client"</span>
<span class="token keyword">import</span> generatedRoutes <span class="token keyword">from</span> <span class="token string">'virtual:generated-pages'</span>

<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token function">setupLayouts</span><span class="token punctuation">(</span>generatedRoutes<span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> createApp <span class="token operator">=</span> <span class="token function">ViteSSG</span><span class="token punctuation">(</span>
    <span class="token comment">// ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸</span>
    App<span class="token punctuation">,</span>
    <span class="token punctuation">{</span> routes <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token punctuation">{</span> app<span class="token punctuation">,</span> router<span class="token punctuation">,</span> routes<span class="token punctuation">,</span> isClient<span class="token punctuation">,</span> initialState <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// í”ŒëŸ¬ê·¸ì¸ ì„¸íŒ…</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre><p>pages í”ŒëŸ¬ê·¸ì¸ì´ ì…ì„±í•œ ë¼ìš°íŠ¸ë¥¼ main ì—ì„œ ì ìš©ì‹œí‚¨ë‹¤.</p><h1 id="vite-plugin-md" tabindex="-1">vite-plugin-md</h1><blockquote><p>vite-plugin-md<br><a href="https://github.com/antfu/vite-plugin-md">https://github.com/antfu/vite-plugin-md</a></p></blockquote><p>ë§ˆí¬ë‹¤ìš´ì„ ë·° ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.</p><pre><code class="">npm i vite-plugin-md -D
</code></pre><pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> Markdown <span class="token keyword">from</span> <span class="token string">'vite-plugin-md'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      include<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.md$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// ë§ˆí¬ë‹¤ìš´ íŒŒì¼ë„ ì¸ì‹í•˜ê¸°</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">Markdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><p>ê¸°ë³¸ì ìœ¼ë¡œ ìˆë˜ <code class="">vue</code>&nbsp; í”ŒëŸ¬ê·¸ì¸ì— <code class="">md</code>&nbsp; íŒŒì¼ë„ ì¸ì‹í•  ìˆ˜ ìˆê²Œ í•­ëª©ì„ ì¶”ê°€í•´ì£¼ê³ , <code class="">Markdown</code>&nbsp; í”Œë¡œê·¸ì¸ì„ ì¶”ê°€í•œë‹¤.</p><h2 id="%EB%A9%94%ED%83%80%ED%83%9C%EA%B7%B8-%EC%B6%94%EA%B0%80" tabindex="-1">ë©”íƒ€íƒœê·¸ ì¶”ê°€</h2><p><a href="https://github.com/mdit-vue/vite-plugin-vue-markdown#document-head-and-meta">GitHub - mdit-vue/vite-plugin-vue-markdown: Compile Markdown to Vue component</a></p><p>í˜ì´ì§€ë³„ë¡œ ë©”íƒ€íƒœê·¸ë¥¼ ì¶”ê°€í•˜ê³ ì‹¶ì€ë°, <code class="">.md</code> íŒŒì¼ë¡œëŠ” ì–´ë–»ê²Œ í•´ì¤˜ì•¼ í• ê¹Œ? <code class="">vite-ssg</code> ì™€ <code class="">vite-plugin-md</code> ì—ì„œ ì´ë¯¸ <code class="">vueuse/head</code> ë¥¼ ì‚¬ìš©í•œë‹¤. ê·¸ë˜ì„œ <code class="">unhead/vue</code> ë¥¼ ì‚¬ìš©í•´ë³´ë ¤ê³  í–ˆì§€ë§Œ, ì¶©ëŒ ë¬¸ì œê°€ ìˆì–´ì„œ <code class="">vueuse/head</code> ì˜ ë°©ì‹ì„ ë”°ë¥´ê¸°ë¡œ í–ˆë‹¤.</p><pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml"><span class="token key atrule">meta</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> My Cool App
    <span class="token key atrule">description</span><span class="token punctuation">:</span> cool things happen to people who use cool apps</span>
<span class="token punctuation">---</span></span>
</code></pre><p>md íŒŒì¼ì˜ ìµœìƒë‹¨ì— <code class="">---</code> ë¡œ êµ¬ë¶„ì„ ì„ ìœ„ì•„ë˜ë¡œ ë„£ì–´ì£¼ê³ , ì•ˆì— ë‚´ìš©ì„ ë„£ì–´ì¤€ë‹¤.</p><pre class="language-md"><code class="language-md"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml"><span class="token key atrule">meta</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> description
    <span class="token key atrule">content</span><span class="token punctuation">:</span> Github.io ì™€ Vue3 ë¥¼ í™œìš©í•´ì„œ ë¸”ë¡œê·¸ë¥¼ ì‹œì‘. SPAë¥¼ prerendering í•˜ì—¬ ê°œë³„ í˜ì´ì§€ë¥¼ ìƒì„±í•˜ê³ <span class="token punctuation">,</span> ë©”íƒ€íƒœê·¸ë¥¼ ì¶”ê°€. êµ¬ê¸€ ê²€ìƒ‰ ì—”ì§„ì— ë“±ë¡í•  ì‚¬ì´íŠ¸ë§µ ìë™ ìƒì„±. ë§ˆí¬ë‹¤ìš´ì„ html ë¡œ ë³€í™˜. Google Analytics ë„ì…ìœ¼ë¡œ ë°©ë¬¸ì ìˆ˜ ì²´í¬.</span>
<span class="token punctuation">---</span></span>
</code></pre><p>ì´ëŸ° í˜•ì‹ë„ ëœë‹¤.</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Github.io + Vue3 ë¡œ ë¸”ë¡œê·¸ ë§Œë“¤ê¸°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>description<span class="token punctuation">"</span></span>
<span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Github.io ì™€ Vue3 ë¥¼ í™œìš©í•´ì„œ ë¸”ë¡œê·¸ë¥¼ ì‹œì‘. SPAë¥¼ prerendering í•˜ì—¬ ê°œë³„ í˜ì´ì§€ë¥¼ ìƒì„±í•˜ê³ , ë©”íƒ€íƒœê·¸ë¥¼ ì¶”ê°€. êµ¬ê¸€ ê²€ìƒ‰ ì—”ì§„ì— ë“±ë¡í•  ì‚¬ì´íŠ¸ë§µ ìë™ ìƒì„±. ë§ˆí¬ë‹¤ìš´ì„ html ë¡œ ë³€í™˜. Google Analytics ë„ì…ìœ¼ë¡œ ë°©ë¬¸ì ìˆ˜ ì²´í¬.<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>og:title<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Github.io + Vue3 ë¡œ ë¸”ë¡œê·¸ ë§Œë“¤ê¸°<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><p>html íŒŒì¼ì— ìë™ìœ¼ë¡œ <code class="">meta</code> íƒœê·¸ê°€ ì¶”ê°€ëœë‹¤.</p><h1 id="markdown-it-%ED%94%8C%EB%9F%AC%EA%B7%B8%EC%9D%B8" tabindex="-1">markdown-it í”ŒëŸ¬ê·¸ì¸</h1><h2 id="markdown-it-anchor" tabindex="-1">markdown-it-anchor</h2><blockquote><p>markdown-it-anchor<br><a href="https://www.npmjs.com/package/markdown-it-anchor">https://www.npmjs.com/package/markdown-it-anchor</a></p></blockquote><p><code class="">H</code>&nbsp; íƒœê·¸ì— ê¸°ë³¸ì ìœ¼ë¡œ anchor ë¥¼ ë‹¬ì•„ì„œ ì´ë™í•  ìˆ˜ ìˆê²Œ í•œë‹¤. í•œê¸€ë„ ì§€ì›í•œë‹¤.</p><h2 id="markdown-it-table-of-contents" tabindex="-1">markdown-it-table-of-contents</h2><blockquote><p>markdown-it-table-of-contents<br><a href="https://www.npmjs.com/package/markdown-it-table-of-contents">https://www.npmjs.com/package/markdown-it-table-of-contents</a></p></blockquote><p><code class="">[[toc]]</code>&nbsp; ë¥¼ ì‚¬ìš©í•˜ë©´ ëª©ì°¨ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</p><h3 id="%EB%AA%A9%EC%B0%A8-%EC%9A%94%EC%86%8C%EB%A5%BC-%EB%94%B0%EB%A1%9C-%EB%96%BC%EC%84%9C-%EB%8B%A4%EB%A5%B8-%EA%B3%B3%EC%97%90-%EB%B6%99%EC%9D%B4%EA%B8%B0" tabindex="-1">ëª©ì°¨ ìš”ì†Œë¥¼ ë”°ë¡œ ë–¼ì„œ ë‹¤ë¥¸ ê³³ì— ë¶™ì´ê¸°</h3><p>ëª©ì°¨ê°€ md í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì˜ ìƒë‹¨ì— ê³ ì •ë˜ì–´ ìˆì–´ì„œ ì›í•˜ëŠ” ê³³ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì˜¤ë¥¸ìª½ ë¶€ë¶„ì— ê³ ì •ì„ ì‹œí‚¨ë‹¤ë˜ì§€.</p><pre class="language-ts"><code class="language-ts"><span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ëª©ì°¨ë¥¼ markdown-body ë‚´ë¶€ì—ì„œ ì œê±°í•œ í›„, </span>
  <span class="token comment">// ì˜†ì— ë¶™ì¸ë‹¤.</span>
  <span class="token keyword">const</span> mdBody <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".markdown-body"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> targetToc <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".new-table-of-contents"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> toc <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".markdown-body .table-of-contents"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> main <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"main"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span><span class="token punctuation">(</span>mdBody <span class="token operator">&amp;&amp;</span> targetToc <span class="token operator">&amp;&amp;</span> toc <span class="token operator">&amp;&amp;</span> main<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    targetToc<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> toc<span class="token operator">?.</span>innerHTML<span class="token operator">!</span><span class="token punctuation">;</span>
    <span class="token comment">// ë¼ìš°íŠ¸ ë³€ê²½ ì‹œ `.table-of-contents` ì˜ innerHTML ì´ í•œë²ˆ ì œê±°ë˜ê³  undefined ë¡œ ëœ¨ê¸° ë•Œë¬¸ì—</span>
    <span class="token comment">// display: none ë§Œ ë¶™ì—¬ì„œ ìˆ¨ê¸´ë‹¤.</span>
    <span class="token punctuation">(</span>toc <span class="token keyword">as</span> HTMLElement<span class="token punctuation">)</span><span class="token operator">?.</span>style<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">"display"</span><span class="token punctuation">,</span> <span class="token string">"none"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><p>ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ê°„ë‹¨í•˜ê²Œ <code class="">innerHTML</code>&nbsp; ì„ ë¶™ì´ë ¤ëŠ” ìš”ì†Œì— ë„£ì–´ì£¼ê³ , í•´ë‹¹ ìš”ì†ŒëŠ” ì œê±°í•˜ë©´ ëœëŒœ.</p><blockquote><p>[!attention] ì›ë˜ëŠ” <code class="">toc</code> ë¥¼ remove ë¡œ ì œê±°í–ˆìœ¼ë‚˜, ê·¸ëŸ¬ë©´ ë¼ìš°íŠ¸ë¥¼ ë‘ë²ˆ ì´ìƒ ì´ë™í•  ë•Œ, ì´ë¯¸ ì œê±°ëœ <code class="">.table-of-contents</code> ì—ì„œ ë‚´ìš©ì„ ì°¾ì•„ <code class="">undefined</code> ë¥¼ ì–»ê²Œ ëœë‹¤. ë¼ìš°íŠ¸ ì‹œ toc ìš”ì†Œê°€ ì—†ìœ¼ë©´ ìƒì„±í•˜ì§€ ëª»í•˜ëŠ”ë“¯ í•˜ë‹¤. ê·¸ë˜ì„œ <code class="">display: none;</code> ì†ì„±ë§Œ ì£¼ì–´ì„œ ë³´ì´ì§€ë§Œ ì•Šê²Œ í•œë‹¤.</p></blockquote><pre class="language-ts"><code class="language-ts"><span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> route<span class="token punctuation">.</span>fullPath<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// SPA ë¼ìš°íŠ¸ê°€ ë°”ë€” ë•Œë§ˆë‹¤ toc ë³€ê²½</span>
	<span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">createToc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>ë¼ìš°íŠ¸ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ TOCë¥¼ ì˜®ê²¨ì£¼ê¸° ìœ„í•´ì„œ <code class="">watch</code> ë¥¼ ì¶”ê°€í•œë‹¤.</p><h2 id="markdown-it-prism" tabindex="-1">markdown-it-prism</h2><blockquote><p>markdown-it-prism<br><a href="https://www.npmjs.com/package/markdown-it-prism">https://www.npmjs.com/package/markdown-it-prism</a></p></blockquote><p><code class="">prism</code>&nbsp; ë¼ì´ë¸ŒëŸ¬ë¥¼ ë˜í•‘í–ˆë‹¤. ë§ˆí¬ë‹¤ìš´ íŒŒì¼ ë‚´ì˜ ì†ŒìŠ¤ì½”ë“œë¥¼ ìœ„í•œ <code class="">pre</code>&nbsp; íƒœê·¸ë¥¼ í•˜ì´ë¼ì´íŒ…í•œë‹¤.</p><pre class="language-ts"><code class="language-ts"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">Markdown</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function">markdownItSetup</span><span class="token punctuation">(</span>md<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// prism ì½”ë“œ í•˜ì´ë¼ì´í„°</span>
        md<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>MDPrism<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><p><code class="">markdownItSetup</code> í•¨ìˆ˜ì—ì„œ use ë¡œ ì‚¬ìš©ì„ ì–¸í•˜ë©´ ìë™ìœ¼ë¡œ ë§ˆí¬ë‹¤ìš´ ì½”ë“œ ì˜ì—­ì€ í•˜ì´ë¼ì´íŒ… ëœë‹¤. í´ë˜ìŠ¤ê°€ ë¶€ì—¬ë˜ê¸°ë§Œ í•´ì„œ css ëŠ” ì§ì ‘ ë„£ì–´ì£¼ì–´ì•¼ í•œë‹¤.</p><pre class="language-scss"><code class="language-scss">&lt;style&gt;
<span class="token keyword">@import</span> <span class="token string">"../assets/scss/prism-vscode.scss"</span><span class="token punctuation">;</span> 
&lt;/style&gt;
</code></pre><p>ìš°ë¦¬ì˜ ê²½ìš° í¬ìŠ¤íŠ¸ê°€ <code class="">RouterView</code> ì—ì„œ ìë™ìœ¼ë¡œ í˜ì´ì§€í™”ë˜ì–´ ë³´ì—¬ì§€ê¸° ë•Œë¬¸ì—, <code class="">scoped style</code> ë¡œëŠ” ìŠ¤íƒ€ì¼ì„ ì ìš©í•  ìˆ˜ ì—†ë‹¤. ê·¸ë˜ì„œ ì „ì—­ css ë¡œ ì„ ì–¸í•´ì£¼ì–´ì•¼ í•œë‹¤.</p><h3 id="%ED%85%8C%EB%A7%88" tabindex="-1">í…Œë§ˆ</h3><p><a href="https://github.com/PrismJS/prism-themes">GitHub - PrismJS/prism-themes: A wider selection of Prism themes</a> ì—¬ëŸ¬ê°€ì§€ í…Œë§ˆë¥¼ ëª¨ì•„ë‘” ê¹ƒí—™ì´ë‹¤. ê°€ì¥ ìµìˆ™í•œ vscode ë¥¼ ì‚¬ìš©í–ˆë‹¤.</p><h1 id="pinia" tabindex="-1">pinia</h1><blockquote><p>pinia<br><a href="https://pinia.vuejs.org/getting-started.html#installation">https://pinia.vuejs.org/getting-started.html#installation</a><br> vite-ssg pinia<br><a href="https://github.com/antfu/vite-ssg#initial-state">https://github.com/antfu/vite-ssg#initial-state</a></p></blockquote><p>í¬ìŠ¤íŠ¸ ëª©ë¡ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•´ì„œ pinia ë¥¼ ì„¤ì¹˜í•˜ì.</p><pre><code class="">npm install pinia
</code></pre><pre class="language-ts"><code class="language-ts"><span class="token comment">// main.ts</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> createApp <span class="token operator">=</span> <span class="token function">ViteSSG</span><span class="token punctuation">(</span>
  App<span class="token punctuation">,</span>
  <span class="token punctuation">{</span> routes <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">{</span> app<span class="token punctuation">,</span> router<span class="token punctuation">,</span> initialState <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> pinia <span class="token operator">=</span> <span class="token function">createPinia</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>pinia<span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SSR</span><span class="token punctuation">)</span>
      initialState<span class="token punctuation">.</span>pinia <span class="token operator">=</span> pinia<span class="token punctuation">.</span>state<span class="token punctuation">.</span>value
    <span class="token keyword">else</span>
      pinia<span class="token punctuation">.</span>state<span class="token punctuation">.</span>value <span class="token operator">=</span> initialState<span class="token punctuation">.</span>pinia <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useRootStore</span><span class="token punctuation">(</span>pinia<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>store<span class="token punctuation">.</span>ready<span class="token punctuation">)</span>
        <span class="token comment">// perform the (user-implemented) store action to fill the store's state</span>
        store<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

</code></pre><p>vite-ssg ê¹ƒí—™ì—ì„œ ë‚˜ì˜¨ ì„¤ëª…ì„œì¸ë°, ê¸€ë¡œë²Œë¡œ store ë¥¼ ë“±ë¡í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼ë©´, <code class="">app.use</code>&nbsp; ê¹Œì§€ë§Œ í•´ì£¼ì–´ë„ ëœë‹¤.</p><pre class="language-ts"><code class="language-ts"><span class="token comment">// src/store/posts.ts</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'pinia'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Post</span> <span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  fileName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  title<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  description<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  tags<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  data<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> usePosts <span class="token operator">=</span> <span class="token function">defineStore</span><span class="token punctuation">(</span><span class="token string">'post'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> postList <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>Post<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> currentUrl <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchPostList</span><span class="token punctuation">(</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    axios<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">get</span><span class="token generic class-name"><span class="token operator">&lt;</span>Post<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/postlist.json</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      postList<span class="token punctuation">.</span>value <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
      <span class="token keyword">return</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    postList<span class="token punctuation">,</span>
    currentUrl<span class="token punctuation">,</span>
    fetchPostList<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><p>post ëª©ë¡ì„ ê°€ì ¸ì˜¤ëŠ” store ë¥¼ í•˜ë‚˜ ë§Œë“ ë‹¤. í¬ìŠ¤íŠ¸ë¥¼ ë‹¨ìˆœíˆ json íŒŒì¼ë¡œ ì €ì¥í•´ë‘ê³ , ì‚¬ìš©í•  ê²ƒì´ë‹¤.</p><pre class="language-ts"><code class="language-ts"><span class="token comment">// public/postlist.json</span>
<span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
      <span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token string">"Vue-Prefetch"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"fileName"</span><span class="token operator">:</span> <span class="token string">"Vue-Prefetch"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"Vue Code Spliting ê°„ë‹¨íˆ ì•Œì•„ë³´ê¸° (+ Prefetch)"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"description"</span><span class="token operator">:</span> <span class="token string">"Vue í”„ë¡œì íŠ¸ì˜ Code Spliting ì´ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ì™€ webpack prefetch ì˜µì…˜ ì— ëŒ€í•´ì„œ ê°„ëµí•œ ì„¤ëª…."</span><span class="token punctuation">,</span>
      <span class="token string-property property">"createdAt"</span><span class="token operator">:</span> <span class="token string">"2022-08-05"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"updatedAt"</span><span class="token operator">:</span> <span class="token string">"2022-08-05"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"tags"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"Vue"</span><span class="token punctuation">,</span> <span class="token string">"Vue2"</span><span class="token punctuation">,</span> <span class="token string">"Vue3"</span><span class="token punctuation">,</span> <span class="token string">"Code Spliting"</span><span class="token punctuation">,</span> <span class="token string">"ì½”ë“œë¶„ì‚°"</span><span class="token punctuation">,</span> <span class="token string">"Prefecth"</span><span class="token punctuation">,</span> <span class="token string">"Webpack"</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">]</span>

</code></pre><p>public í´ë”ì— íŒŒì¼ì„ ë‘ë©´, ê·¸ í•­ëª©ì€ ì‚¬ì´íŠ¸ì˜ ë£¨íŠ¸ì— í¬í•¨ë˜ê²Œ ëœë‹¤. ê°™ì€ í˜¸ìŠ¤íŠ¸ì´ê¸° ë•Œë¬¸ì— cors ì—†ì´ axios ë¡œ ë™ì ìœ¼ë¡œ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.</p><h1 id="%EB%AC%B8%EC%A0%9C" tabindex="-1">ë¬¸ì œ</h1><h2 id="vite-ssg-%2B-gsap" tabindex="-1">vite-ssg + gsap</h2><pre><code class="">[vite-ssg] An internal error occurred.
[vite-ssg] Please report an issue, if none already exists: https://github.com/antfu/vite-ssg/issues
file:///Users/hslee/Workspaces/something/lhs-source.github.io/.vite-ssg-temp/main.mjs:6
import { ScrollTrigger } from "gsap/ScrollTrigger.js";
         ^^^^^^^^^^^^^
SyntaxError: Named export 'ScrollTrigger' not found. The requested module 'gsap/ScrollTrigger.js' is a CommonJS module, which may not support all module.exports as named exports.
CommonJS modules can always be imported via the default export, for example using:

import pkg from 'gsap/ScrollTrigger.js';
const { ScrollTrigger } = pkg;

    at ModuleJob._instantiate (node:internal/modules/esm/module_job:123:21)
    at async ModuleJob.run (node:internal/modules/esm/module_job:189:5)
    at async Promise.all (index 0)
    at async ESMLoader.import (node:internal/modules/esm/loader:530:24)
    at async build (file:///Users/hslee/Workspaces/something/lhs-source.github.io/node_modules/vite-ssg/dist/shared/vite-ssg.62550b28.mjs:996:87)
    at async Object.handler (file:///Users/hslee/Workspaces/something/lhs-source.github.io/node_modules/vite-ssg/dist/node/cli.mjs:29:5)

Node.js v18.12.1
</code></pre><p><a href="https://stackoverflow.com/a/76578317">javascript - GSAP ScrollTrigger with Next.js - Stack Overflow</a></p><pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> <span class="token constant">MPP</span> <span class="token keyword">from</span> <span class="token string">'gsap/dist/MotionPathPlugin'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ScrollTrigger <span class="token keyword">from</span> <span class="token string">'gsap/dist/ScrollTrigger'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> MotionPathPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token constant">MPP</span><span class="token punctuation">;</span>
gsap<span class="token punctuation">.</span><span class="token function">registerPlugin</span><span class="token punctuation">(</span>ScrollTrigger<span class="token punctuation">)</span><span class="token punctuation">;</span>
gsap<span class="token punctuation">.</span><span class="token function">registerPlugin</span><span class="token punctuation">(</span>MotionPathPlugin<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>ì´ëŸ°ì‹ìœ¼ë¡œ ë°”ê¿”ì£¼ì—ˆë‹¤. <code class="">vite-ssg</code> ë¡œ ì‚¬ìš©í•  ë•ŒëŠ” ë‹¤ë¥¸ ë¹Œë“œ ë°©ì‹ì„ ì‚¬ìš©í•˜ë‚˜ë³´ë‹¤. <code class="">esbuild</code> ë¼ê±°ë‚˜, commonJS ë¼ê±°ë‚˜â€¦ ê·¸ë˜ì„œ <code class="">/dist</code> í´ë” ì•ˆì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•´ì£¼ì—ˆë‹¤.</p><h2 id="axios" tabindex="-1">axios</h2><p><code class="">vite-ssg</code> ëŠ” ì •ì  html ì‚¬ì´íŠ¸ë¥¼ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— <code class="">setup</code> ì•ˆì— ìˆëŠ” í•¨ìˆ˜ë¥¼ ë¬´ì¡°ê±´ ì‹¤í–‰í•œë‹¤. ê·¸ë˜ì„œ ìµœì´ˆì— ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” axios í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©´ì„œ ì—†ëŠ” ì„œë²„ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë ¤ê³  í•´ì„œ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.</p><pre><code class="">file:///Users/hslee/Workspaces/something/lhs-source.github.io/node_modules/axios/lib/core/AxiosError.js:89
  AxiosError.call(axiosError, error.message, code, config, request, response);
             ^
AxiosError: connect ECONNREFUSED ::1:80
    at AxiosError.from (file:///Users/hslee/Workspaces/something/lhs-source.github.io/node_modules/axios/lib/core/AxiosError.js:89:14)
    at RedirectableRequest.handleRequestError (file:///Users/hslee/Workspaces/something/lhs-source.github.io/node_modules/axios/lib/adapters/http.js:591:25)
    at RedirectableRequest.emit (node:events:513:28)
    at eventHandlers.&lt;computed&gt; (/Users/hslee/Workspaces/something/lhs-source.github.io/node_modules/follow-redirects/index.js:14:24)
    at ClientRequest.emit (node:events:513:28)
    at Socket.socketErrorListener (node:_http_client:494:9)
    at Socket.emit (node:events:513:28)
    at emitErrorNT (node:internal/streams/destroy:151:8)
    at emitErrorCloseNT (node:internal/streams/destroy:116:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
</code></pre><p><code class="">::1:80</code> ê²½ë¡œë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë©´ì„œ ì—ëŸ¬ê°€ ë°œìƒí•œ ê²ƒì´ë‹¤.</p><pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token function">usePosts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">animPostList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  posts<span class="token punctuation">.</span><span class="token function">fetchPostList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><p>onMounted ë‚´ë¶€ì—ì„œ fetch ë¥¼ ì‹¤í–‰í•˜ë©´, <code class="">setup</code> í›…ê³¼ ë‹¤ë¥´ê²Œ ë¹Œë“œ ì‹œ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤.</p></div><div class="new-table-of-contents" data-v-2b6ea3cb=""></div></main><footer data-v-2b6ea3cb="">TO BE FOOTER</footer></div></div></div>
<script>window.__INITIAL_STATE__="{\"pinia\":{\"post\":{\"postList\":[],\"currentUrl\":\"\"}}}"</script>
    
  

</body></html>